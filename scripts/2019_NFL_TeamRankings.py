#!/usr/bin/env python
# coding: utf-8

# In[19]:


import pandas as pd
from time import sleep

pages = ['https://www.teamrankings.com/nfl/stat/points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/average-scoring-margin?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/yards-per-point?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/yards-per-point-margin?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/points-per-play?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/points-per-play-margin?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/touchdowns-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/red-zone-scoring-attempts-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/red-zone-scores-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/red-zone-scoring-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/extra-point-attempts-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/extra-points-made-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/two-point-conversion-attempts-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/two-point-conversions-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/points-per-field-goal-attempt?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/extra-point-conversion-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/two-point-conversion-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/offensive-touchdowns-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/defensive-touchdowns-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/special-teams-touchdowns-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/offensive-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/defensive-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/special-teams-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/offensive-point-share-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/1st-quarter-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/2nd-quarter-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/3rd-quarter-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/4th-quarter-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/overtime-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/1st-half-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/2nd-half-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/1st-quarter-time-of-possession-share-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/2nd-quarter-time-of-possession-share-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/3rd-quarter-time-of-possession-share-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/4th-quarter-time-of-possession-share-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/1st-half-time-of-possession-share-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/2nd-half-time-of-possession-share-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/yards-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/plays-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/yards-per-play?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/first-downs-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/third-downs-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/third-down-conversions-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/fourth-downs-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/fourth-down-conversions-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/average-time-of-possession-net-of-ot?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/time-of-possession-pct-net-of-ot?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/seconds-per-play?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/first-downs-per-play?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/third-down-conversion-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/fourth-down-conversion-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/punts-per-play?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/punts-per-offensive-score?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-tackles-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-solo-tackles-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-assisted-tackles-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/rushing-attempts-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/rushing-yards-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/rushing-first-downs-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/rushing-touchdowns-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/yards-per-rush-attempt?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/rushing-play-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/rushing-touchdown-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/rushing-first-down-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/rushing-yards-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/pass-attempts-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/completions-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/incompletions-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/completion-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/passing-yards-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/gross-passing-yards-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/yards-per-pass-attempt?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/yards-per-completion?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/passing-touchdowns-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/passing-touchdown-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/qb-sacked-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/qb-sacked-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/passing-first-downs-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/passing-first-down-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/average-team-passer-rating?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/passing-play-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/passing-yards-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/other-touchdowns-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/field-goal-attempts-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/field-goals-made-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/field-goals-got-blocked-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/kicking-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/punt-attempts-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/punts-got-blocked-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/gross-punt-yards-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/net-punt-yards-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/kickoffs-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/touchbacks-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/kickoff-touchback-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/field-goal-conversion-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/field-goal-got-blocked-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/field-goal-conversion-pct-net-of-blocks?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/punt-blocked-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/net-yards-per-punt-attempt?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/gross-yards-per-successful-punt?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/net-yards-per-successful-punt?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opp-yards-per-point?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-points-per-play?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-touchdowns-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-red-zone-scoring-attempts-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-red-zone-scores-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-red-zone-scoring-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-extra-point-attempts-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-extra-points-made-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-two-point-conversion-attempts-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-two-point-conversions-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-points-per-field-goal-attempt?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-extra-point-conversion-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-two-point-conversion-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-offensive-touchdowns-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-defensive-touchdowns-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-special-teams-touchdowns-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-offensive-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-defensive-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-special-teams-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-offensive-point-share-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opp-1st-quarter-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opp-2nd-quarter-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opp-3rd-quarter-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opp-4th-quarter-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opp-overtime-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-1st-half-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-2nd-half-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-yards-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-plays-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-yards-per-play?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-first-downs-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-third-downs-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-third-down-conversions-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-fourth-downs-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-fourth-down-conversions-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-average-time-of-possession-net-of-ot?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-time-of-possession-pct-net-of-ot?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-seconds-per-play?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-first-downs-per-play?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-third-down-conversion-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-fourth-down-conversion-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-punts-per-play?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-punts-per-offensive-score?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/tackles-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/solo-tackles-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/assisted-tackles-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-rushing-attempts-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-rushing-yards-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-rushing-first-downs-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-rushing-touchdowns-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-yards-per-rush-attempt?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-rushing-play-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-rushing-touchdown-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-rushing-first-down-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-rushing-yards-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-pass-attempts-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-completions-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-incompletions-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-completion-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-passing-yards-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-gross-passing-yards-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-yards-per-pass-attempt?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-yards-per-completion?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-passing-first-downs-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-passing-touchdowns-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-passing-touchdown-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-average-team-passer-rating?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/sack-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-passing-play-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-passing-yards-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/sacks-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-passing-first-down-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-other-touchdowns-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-field-goal-attempts-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-field-goals-made-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/field-goals-blocked-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-kicking-points-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-punt-attempts-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/punts-blocked-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-gross-punt-yards-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-net-punt-yards-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-kickoffs-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-touchbacks-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-kickoff-touchback-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-field-goal-conversion-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/block-field-goal-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-field-goal-conversion-pct-net-of-blocks?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/block-punt-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-net-yards-per-punt-attempt?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-gross-yards-per-successful-punt?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-net-yards-per-successful-punt?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/interceptions-thrown-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/percent-of-games-with-an-interception-thrown?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/fumbles-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/fumbles-lost-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/fumbles-not-lost-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/safeties-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/giveaways-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/turnover-margin-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/interceptions-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/percent-of-games-with-an-interception?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-fumbles-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-fumbles-lost-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-fumbles-not-lost-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-safeties-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/takeaways-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/pass-intercepted-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/fumble-recovery-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/giveaway-fumble-recovery-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/takeaway-fumble-recovery-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/interception-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-fumble-recovery-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-giveaway-fumble-recovery-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-takeaway-fumble-recovery-pct?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/penalties-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/penalty-yards-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/penalty-first-downs-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-penalties-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-penalty-yards-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-penalty-first-downs-per-game?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/penalty-yards-per-penalty?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/penalties-per-play?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-penalty-yards-per-penalty?date=2020-02-03',
'https://www.teamrankings.com/nfl/stat/opponent-penalties-per-play?date=2020-02-03']

for x in pages:
    site = x #the site I want to scrape
    stat = site.rsplit('/', 1)[1] #this saves the text after the last slash in the URL so I can use it for my filenames
    l = len(stat)
    stat2 = stat[:l-16]
    df = pd.read_html(site,header=0,index_col=0)[0] #reading in the site
    df2 = df[['Team','2019']]
    df2.columns = ['Team','2019 '+stat2]
    df2.to_csv("%s.csv" % stat2) #saving the file as a csv using the stat variable in the filename
    sleep(3)

